# N维坐标系下多边形的相交判定: 假设一个多边形的各个边均在同一平面

## 点与多边形
```
首先判断点是否和多边形在同一平面：

如果在,判断此点是否在包围范围内:

如果在:
判断此点是否为顶点或者在边上,如果在则返回此点
如果不在使用射线法判断是否在多边形内,奇偶性来判断是否在多边形内
由此点向多边形外的一点(包围形外的)做连线,通过这条线与多边形的交点个数的奇偶来确定是否在多边形内。奇在偶不在。


如果不在:则不相交

如果不在:则不相交
```

## 线与多边形
```
首先判断多边形是否与线在同一平面，如果不在且无交点则不相交

在同一平面下,获取此线与所有边的相交检测结果。 因为所有边是按序排列所以相交检测结果亦遵守此顺序。
将结果先处理线的起点和终点未包含问题
之后处理内部线，处理过程中需要判断每条线的两边是否在多边形内，如果在则移开线后添加对应的端点。
处理内部线流程:
如果传入数组长度为0则直接返回传入数组
在遍历处理数组内元素时如果元素是Lines判断其前后元素的连线是否完全在多边形内
如果连线在多边形内则将此点/线合并
线的前一个元素一定不是线(报错点)
因为线都是一个朝向所以不会发生两线的起点相连和终点相连的情况
但由于不知道线的朝向，需要判断朝向。
处理完后将完全是点(报错点:如果处理完后的数组不全是点)的数组进行第二次处理
二次处理流程:
现将数组内前两点相连，如果其连线在多边形内，则移出数组，保存连线。将用到的点移出各自的数组。
如果不在多边形内且第一个点为顶点则将此顶点保存，移出数组。之后继续两点查询直到数组为空。
之后将得到的线集合尝试合并(可选)
```

## 多边形与多边形
```
原多边形为A需要检测相交的多边形B (假设A的边数大于或者等于B的边数)
将B的每一个边与A的每一个边进行相交检测得到一组点集合用于拼接相交情况
*** 拼接算法 *** 返回的
拼接后得到的组合形是由纯点数据构成即为点数组 P

如果P内无元素则需要判断A和B是否相互包含
*** 包含判定算法 ***
如果包含,返回被包含的多边形,否则返回undefined

如果P内只有一个元素则返回交点

如果P内有两个元素返回交线

如果P内有2个以上的元素返回其中的多边形

```

```
(弃置 问题:2个多边形必须在同一平面且多边形本身只能在一个平面。)
首先判断两个多边形是否在同一个平面上，

如果有交线:则按照线相交求出区域。

如果是相同的平面:

    先寻找传入的多边形的顶点在此多边形内的点集合和此多边形的顶点与传入多边形的点集合
    取顶点多的集合为切分骨架 (更多的顶点被另一个多边形包含,更少的二次计算。)
    此集合用于切分多边形，如果集合内两点之间相对于原来的顶点数组有空隙则这些空隙内的顶点连线有可能和另一个多边形相交，则遍历这些线段以寻找交点,交线。
    之后将这些交点，交线相连形成的点集返回。
    如果点集内无点为undefined
    如果有一个为Point
    如果有两个为Lines
    两个以上为polygon

如果不相交则返回undefined.
```